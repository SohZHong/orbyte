fragment AuditorFeedbackFields on ProposalReview {
  id
  timestamp
  commentCID
  auditor {
    id
  }
}

query Proposal($id: ID!) {
  proposal(id: $id) {
    description
    eiaCID
    estimatedCredits
    id
    location
    metadataCID
    methodology
    name
    otherDocsCID
    projectPlanCID
    reviews {
      ...AuditorFeedbackFields
    }
    standard
    status
    vintage
    developer {
      id
    }
  }
}

query Proposals(
  $first: Int!
  $skip: Int!
  $developer: String
  $name: String
  $status_in: [ProposalStatus!]
  $standard_in: [Standard!]
) {
  proposals(
    first: $first
    skip: $skip
    where: {
      developer_contains: $developer
      name_contains: $name
      status_in: $status_in
      standard_in: $standard_in
    }
    orderBy: submittedAt
    orderDirection: desc
  ) {
    id
    name
    developer {
      id
    }
    description
    location
    estimatedCredits
    vintage
    methodology
    projectPlanCID
    eiaCID
    otherDocsCID
    metadataCID
    standard
    status
    submittedAt
  }
}
