query MarketplaceListings(
  $first: Int!
  $skip: Int!
  $status_in: [ListingStatus!]
  $seller: String!
) {
  marketplaceListings(
    orderBy: createdAt
    orderDirection: desc
    skip: $skip
    first: $first
    where: { status_in: $status_in, seller: $seller }
  ) {
    id
    seller {
      id
    }
    token {
      id
      amount
      retiredAmount
      tokenURI
      project {
        proposal {
          name
        }
      }
    }
    amount
    remaining
    pricePerUnit
    startTime
    endTime
    status
    createdAt
    updatedAt
    purchases {
      id
      buyer {
        id
      }
      quantity
      totalPaid
      feePaid
      timestamp
    }
  }
}

query PublicMarketplaceListings(
  $skip: Int!
  $first: Int!
  $orderBy: MarketplaceListing_orderBy = createdAt
  $orderDirection: OrderDirection = desc
  $now: Timestamp!
) {
  marketplaceListings(
    skip: $skip
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: { status_in: [Active], endTime_gt: $now }
  ) {
    id
    token {
      id
      project {
        id
        proposal {
          name
          standard
        }
      }
      tokenURI
    }
    amount
    remaining
    pricePerUnit
    endTime
    status
    seller {
      id
    }
  }
}
